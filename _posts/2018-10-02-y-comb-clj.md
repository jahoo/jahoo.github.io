---
layout: post
title: Y combinator in clojure
published: true
---

Learning about clojure and combinators

```clojure

(defn almost-factorial [f]
    (fn [n]
      (if (= n 0)
          1
          (* n (f (- n 1))))))

(def factorialA (almost-factorial factorialA))
```

doesn't work (because clojure is not lazy?)
gives `Attempting to call unbound fn: #'user/factorialA`

anyway so, how about:
```clojure
(defn fixPt [f]
  (f (fixPt f)))
```

this will also not work,
because this isn't a combinator: there is an unbound Y

so...

```clojure
(defn Y?
  [f]
  (fn [x]
    ((Y? f) x)))
```
still doesn't work because Y is still not a combinator.

this is what we need:

```clojure
(def Y
  (fn [f]
    ((fn [x] (x x))
     (fn [x] (f (fn [y] ((x x) y)))))))
```

should work, right?
```clojure
(def fact (Y almost-factorial))
```
works!

more, see [here](https://mvanier.livejournal.com/2897.html)
